(function(t){function e(e){for(var i,s,o=e[0],c=e[1],u=e[2],l=0,p=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);g&&g(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},a=[];function s(t){return o.p+"js/"+({hot:"hot"}[t]||t)+"."+{hot:"e7a6a0e8"}[t]+".js"}function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=s(t);var u=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,n[1](u)}r[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var g=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"13e4":function(t,e,n){"use strict";n("4547")},1982:function(t,e,n){"use strict";n("a1dc")},"19a7":function(t,e,n){},2395:function(t,e,n){},4547:function(t,e,n){},"457b":function(t,e,n){"use strict";n("ee49")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=(n("d3b7"),n("bc3a")),a=n.n(r),s={},o=a.a.create(s);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get:function(){return o}},$axios:{get:function(){return o}}})},i["a"].use(Plugin);Plugin;var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.$route.meta.showNavBar?n("ul",{attrs:{id:"nav"}},[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),n("li",[n("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),n("li",[n("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)]):t._e(),n("section",{staticClass:"routes"},[n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__slideInRight","leave-active-class":"animate__animated animate__slideOutLeft"}},[n("router-view",{staticStyle:{position:"absolute",top:"0: left:0 width:100%",height:"calc(100vh - 42px)",overflowY:"auto"},attrs:{currentSongid:t.currentSong?t.currentSong.id:null,playing:t.playing},on:{"change-current-song":t.changeCurrentSong,"change-current-play-list":t.changeCurrentPlayList}})],1)],1),n("audio",{ref:"audio",staticStyle:{height:"40px","margin-bottom":"40px"},attrs:{src:t.currentSongUrl,controls:"",autoplay:""},on:{playing:function(e){t.playing=!0},pause:function(e){t.playing=!1},timeupdate:t.timeupdate,durationchange:t.durationchange}}),t.currentSong?n("Play",{attrs:{currentSong:t.currentSong,playing:t.playing,currentTime:t.currentTime,duration:t.duration,currentPlayList:t.currentPlayList},on:{"toggic-playing-state":t.toggicPlayingState,"change-current-song":t.changeCurrentSong,"prev-song":t.prevSong,"next-song":t.nextSong,"current-time-change":function(e){t.$refs.audio.currentTime=e}}}):t._e()],1)},u=[],l=(n("c740"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"play",class:{playing:t.playing}},[n("PlayBar",{attrs:{currentSong:t.currentSong,duration:t.duration,currentTime:t.currentTime,currentPlayList:t.currentPlayList,playing:t.playing},on:{"toggic-playing-state":function(e){return t.$emit("toggic-playing-state")},"toggle-show-play-list":function(e){t.showPlaylist=e},"toggle-show-play-page":function(e){t.showPlayPage=e}}}),t.showPlaylist?n("PlayList",{attrs:{currentPlayList:t.currentPlayList,currentSong:t.currentSong,playing:t.playing},on:{"toggle-show-play-list":function(e){t.showPlaylist=e},"toggic-playing-state":function(e){return t.$emit("toggic-playing-state")},"change-current-song":function(e){return t.$emit("change-current-song",e)}}}):t._e(),t.showPlayPage?n("PlayPage",{attrs:{currentSong:t.currentSong,duration:t.duration,currentTime:t.currentTime,playing:t.playing},on:{"toggle-show-play-page":function(e){t.showPlayPage=e},"toggic-playing-state":function(e){return t.$emit("toggic-playing-state")},"toggle-show-play-list":function(e){t.showPlaylist=e},"prev-song":function(e){return t.$emit("prev-song")},"next-song":function(e){return t.$emit("next-song")},"change-model":function(e){return t.$emit("change-model")},"current-time-change":function(e){return t.$emit("current-time-change",e)}}}):t._e()],1)}),g=[],p=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"play-page"},[n("div",{staticClass:"mask",style:{backgroundImage:"url("+(t.currentSong.song?t.currentSong.picUrl:t.currentSong.al.picUrl)+"?imageView=1&type=webp&thumbnail=246x0)"}}),n("button",{on:{click:function(e){return t.$emit("toggle-show-play-page",!1)}}},[t._v("paly-page")]),n("div",{staticClass:"rotate"},[n("img",{staticClass:"needle",class:{paused:!t.playing},attrs:{src:"https://s3.music.126.net/mobile-new/img/needle-ab.png",alt:""}}),n("section",{staticClass:"record",class:{playing:t.playing}},[n("img",{staticClass:"pic",attrs:{src:t.currentSong.song?t.currentSong.picUrl:t.currentSong.al.picUrl,alt:""}}),n("img",{staticClass:"disc",attrs:{src:"https://s3.music.126.net/mobile-new/img/disc.png",alt:""}})])]),n("section",{staticClass:"progress"},[n("input",{attrs:{type:"range",max:t.duration,step:"0.5"},domProps:{value:t.currentTime},on:{change:t.progressChange,input:function(e){t.inputing=!0}}})]),n("section",{staticClass:"moshi"},[n("span",{on:{click:function(e){return t.$emit("change-model")}}},[t._v("模式")]),n("span",{on:{click:function(e){return t.$emit("prev-song")}}},[t._v("上")]),n("span",{on:{click:function(e){return t.$emit("toggic-playing-state")}}},[t._v("播")]),n("span",{on:{click:function(e){return t.$emit("next-song")}}},[t._v("下")]),n("span",{on:{click:function(e){return e.stopPropagation(),t.$emit("toggle-show-play-list",!0)}}},[t._v("列表")])])])}),h=[],y={props:{currentSong:Object,playing:Boolean,duration:Number,currentTime:Number},data:function(){return{value:this.currentTime,inputing:!0}},watch:{currentTime:function(t){this.inputing||(this.value=t)}},methods:{progressChange:function(t){this.inputing=!1,console.log(t.target.value),this.$emit("current-time-change",t.target.value)}}},d=y,m=(n("5abd"),n("2877")),M=Object(m["a"])(d,p,h,!1,null,"e0260f6a",null),f=M.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"MusicBar",class:{playing:t.playing}},[n("section",{staticClass:"bar",on:{click:function(e){return t.$emit("toggle-show-play-page",!0)}}},[n("img",{attrs:{src:(t.currentSong.song?t.currentSong.picUrl:t.currentSong.al.picUrl)+"?imageView=1&type=webp&thumbnail=80x0",alt:""}}),n("h3",[t._v(" "+t._s(t.currentSong.name)+" - "),n("span",[t._v(t._s(t.currentSong.song?t.currentSong.song.artists[0].name:t.currentSong.ar[0].name))])]),n("div",{staticClass:"progress",on:{click:function(e){return e.stopPropagation(),t.$emit("toggic-playing-state")}}},[n("canvas",{ref:"canvas",attrs:{width:"40",height:"40"}}),n("div",{staticClass:"icon",class:[t.playing?"pause":"play"]})]),n("button",{on:{click:function(e){return e.stopPropagation(),t.$emit("toggle-show-play-list",!0)}}},[t._v("列表")])])])},j=[],_={props:{currentSong:Object,playing:Boolean,duration:Number,currentTime:Number,currentPlayList:Array},mounted:function(){console.log(this.$refs.canvas)},computed:{percentage:function(){return this.currentTime/this.duration}},watch:{percentage:function(t){var e=this.$refs.canvas.getContext("2d");e.clearRect(0,0,40,40),e.beginPath(),e.arc(20,20,17,Math.PI/180*-90,Math.PI/180*(360*t-90)),e.strokeStyle="#d43c33",e.lineWidth=1,e.stroke(),e.beginPath(),e.arc(20,20,18,Math.PI/180*(360*t-90),Math.PI/180*270),e.strokeStyle="gray",e.lineWidth=1,e.stroke()}}},L=_,w=(n("1982"),Object(m["a"])(L,v,j,!1,null,"d91af932",null)),S=w.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"play-list"},[n("div",{staticClass:"mask animate__animated animate__fadeIn",on:{click:function(e){return e.stopPropagation(),t.$emit("toggle-show-play-list",!1)}}}),n("div",{staticClass:"swiper animate__animated animate__bounceInUp"},[n("div",{staticClass:"card"},[n("ul",{staticClass:"list"},t._l(t.currentPlayList,(function(e,i){return n("Musiclist",{key:e.id,attrs:{item:e,currentSongid:t.currentSong.id,playing:t.playing},on:{"change-current-song":function(e){return t.$emit("change-current-song",e)}}},[t._v(t._s((i+1).toString().padStart(2,"0"))+" ")])})),1)])])])},N=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item.song?n("li",{staticClass:"songlist",on:{click:function(e){return t.$emit("change-current-song",t.item)}}},[n("div",{staticClass:"left"},[n("div",{staticClass:"title"},[t._v(" "+t._s(t.item.name)+" "),t._l(t.item.song.alias,(function(e){return n("span",{key:e},[t._v(t._s(e))])}))],2),n("div",{staticClass:"name"},[0===t.item.song.copyright?n("em"):t._e(),t._l(t.item.song.artists,(function(e){return n("i",{key:e.id,staticClass:"artist"},[t._v(t._s(e.name))])})),n("b",[t._v(t._s(t.item.song.name))])],2)]),n("div",{staticClass:"icon"},[n("div",{staticClass:"play",class:{current:t.currentSongid===t.item.id,playing:t.playing}},[n("i"),n("i"),n("i")])])]):n("li",{staticClass:"songlist",on:{click:function(e){return t.$emit("change-current-song",t.item)}}},[n("div",{staticClass:"num"},[t._t("default")],2),n("div",{staticClass:"left"},[n("div",{staticClass:"title"},[t._v(" "+t._s(t.item.name)+" "),t._l(t.item.alia,(function(e){return n("span",{key:e},[t._v(t._s(e))])}))],2),n("div",{staticClass:"name"},[t._l(t.item.ar,(function(e){return n("i",{key:e.id,staticClass:"artist"},[t._v(t._s(e.name))])})),n("b",[t._v(t._s(t.item.al.name))])],2)]),n("div",{staticClass:"icon"},[n("div",{staticClass:"play",class:{current:t.currentSongid===t.item.id,playing:t.playing}},[n("i"),n("i"),n("i")])])])},b=[],x={props:{item:{type:Object,required:!0},currentSongid:{type:Number},playing:Boolean}},P=x,A=(n("93d8"),Object(m["a"])(P,I,b,!1,null,"0e02aefe",null)),T=A.exports,D={components:{Musiclist:T},props:{showPlaylist:Boolean,currentPlayList:Array,currentSong:Object,playing:Boolean}},z=D,k=(n("ef31"),Object(m["a"])(z,C,N,!1,null,"5e537e09",null)),O=k.exports,E={components:{PlayBar:S,PlayPage:f,PlayList:O},props:{currentSong:Object,playing:Boolean,duration:Number,currentTime:Number,currentPlayList:Array},data:function(){return{showPlaylist:!1,showPlayPage:!1}}},$=E,Y=Object(m["a"])($,l,g,!1,null,null,null),U=Y.exports,B={components:{Play:U},data:function(){return{currentPlayList:[],currentSong:null,playing:!1,currentTime:0,duration:0}},computed:{currentSongUrl:function(){return this.currentSong?"https://music.163.com/song/media/outer/url?id=".concat(this.currentSong.id,".mp3"):null}},methods:{changeCurrentSong:function(t){this.currentSong=t},changeCurrentPlayList:function(t){this.currentPlayList=t},toggicPlayingState:function(){this.playing?this.$refs.audio.pause():this.$refs.audio.play()},timeupdate:function(t){this.currentTime=t.target.currentTime},durationchange:function(t){this.duration=t.target.duration},prevSong:function(){var t=this;console.log(123);var e=this.currentPlayList.findIndex((function(e){return e.id===t.currentSong.id}));e--,e=e>this.currentPlayList.length-1?0:e,e=e<0?this.currentPlayList.length-1:e,this.changeCurrentSong(this.currentPlayList[e])},nextSong:function(){var t=this;console.log(456);var e=this.currentPlayList.findIndex((function(e){return e.id===t.currentSong.id}));e++,e=e>this.currentPlayList.length-1?0:e,e=e<0?this.currentPlayList.length-1:e,this.changeCurrentSong(this.currentPlayList[e])}}},Q=B,Z=(n("7c55"),Object(m["a"])(Q,c,u,!1,null,null,null)),H=Z.exports,R=(n("3ca3"),n("ddb0"),n("8c4f")),J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Title",[t._v("编辑推荐")]),n("ul",{staticClass:"home-cardlist"},t._l(t.personalizeds,(function(t){return n("Playlistcard",{key:t.id,attrs:{item:t}})})),1),n("Title",[t._v("最新音乐")]),n("ul",{staticClass:"home-songlist"},t._l(t.Musiclist,(function(e){return n("Musiclist",{key:e.id,attrs:{item:e,currentSongid:t.currentSongid,playing:t.playing},on:{"change-current-song":function(e){t.$emit("change-current-song",e),t.$emit("change-current-play-list",t.Musiclist)}}})})),1)],1)},W=[],q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{staticClass:"title"},[t._t("default")],2)},G=[],V={},X=V,F=(n("13e4"),Object(m["a"])(X,q,G,!1,null,"ec57a544",null)),K=F.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"card-item",on:{click:function(e){return t.$router.push("/playlist?id="+t.item.id)}}},[n("div",{staticClass:"pic"},[n("img",{staticClass:"bg",attrs:{src:t.item.picUrl}}),n("span",[n("img",{staticStyle:{width:"10px"},attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjMDQwMDAwIiBkPSJNMjIgMTYuNzc3YzAgMS4yMzMtMS4xMjEgMi4yMzMtMi41MDYgMi4yMzMtMS4zODQgMC0yLjUwNi0xLTIuNTA2LTIuMjMzdi0yLjU1M2MwLTEuMjM0IDEuMTIyLTIuMjMzIDIuNTA2LTIuMjMzLjE3NCAwIC4zNDMuMDE3LjUwNi4wNDZ2LTEuMzdoLS4wMzNjLjAxNy0uMjIuMDMzLS40NDEuMDMzLS42NjZhOCA4IDAgMCAwLTE2IDBjMCAuMjI1LjAxNi40NDYuMDM0LjY2Nkg0djEuMzdjLjE2My0uMDI5LjMzMy0uMDQ2LjUwNS0uMDQ2IDEuMzg0IDAgMi41MDYuOTk5IDIuNTA2IDIuMjMzdjIuNTUzYzAgMS4yMzMtMS4xMjIgMi4yMzMtMi41MDYgMi4yMzNTMiAxOC4wMTEgMiAxNi43Nzd2LTIuNTUzYzAtLjI1OC4wNTktLjUwMS4xNDgtLjczQS45ODIuOTgyIDAgMCAxIDIgMTMuMDAxdi0yLjY2N2MwLS4wMjMuMDEyLS4wNDMuMDEzLS4wNjctLjAwNC0uMDg4LS4wMTMtLjE3Ni0uMDEzLS4yNjYgMC01LjUyMyA0LjQ3Ny0xMCAxMC0xMHMxMCA0LjQ3NyAxMCAxMGMwIC4wOS0uMDA5LjE3OC0uMDE0LjI2Ni4wMDIuMDI0LjAxNC4wNDQuMDE0LjA2N3YyYS45ODguOTg4IDAgMCAxLS4zNi43NTNjLjIyNC4zMzQuMzYuNzIuMzYgMS4xMzh2Mi41NTIiIG9wYWNpdHk9Ii4xNSIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI2ZmZiIgZD0iTTIwIDE2Ljc3N2MwIDEuMjMzLTEuMTIxIDIuMjMzLTIuNTA2IDIuMjMzLTEuMzg0IDAtMi41MDYtMS0yLjUwNi0yLjIzM3YtMi41NTNjMC0xLjIzNCAxLjEyMi0yLjIzMyAyLjUwNi0yLjIzMy4xNzQgMCAuMzQzLjAxNy41MDYuMDQ2di0xLjM3aC0uMDMzYy4wMTctLjIyLjAzMy0uNDQxLjAzMy0uNjY2YTggOCAwIDAgMC0xNiAwYzAgLjIyNS4wMTYuNDQ2LjAzNC42NjZIMnYxLjM3Yy4xNjMtLjAyOS4zMzMtLjA0Ni41MDUtLjA0NiAxLjM4NCAwIDIuNTA2Ljk5OSAyLjUwNiAyLjIzM3YyLjU1M2MwIDEuMjMzLTEuMTIyIDIuMjMzLTIuNTA2IDIuMjMzUzAgMTguMDExIDAgMTYuNzc3di0yLjU1M2MwLS4yNTguMDU5LS41MDEuMTQ4LS43M0EuOTgyLjk4MiAwIDAgMSAwIDEzLjAwMXYtMi42NjdjMC0uMDIzLjAxMi0uMDQzLjAxMy0uMDY3LS4wMDQtLjA4OC0uMDEzLS4xNzYtLjAxMy0uMjY2IDAtNS41MjMgNC40NzctMTAgMTAtMTBzMTAgNC40NzcgMTAgMTBjMCAuMDktLjAwOS4xNzgtLjAxNC4yNjYuMDAyLjAyNC4wMTQuMDQ0LjAxNC4wNjd2MmEuOTg4Ljk4OCAwIDAgMS0uMzYuNzUzYy4yMjQuMzM0LjM2LjcyLjM2IDEuMTM4djIuNTUyIi8+PC9zdmc+",alt:""}}),t._v(" "+t._s(t._f("Count")(t.item.playCount)))])]),n("p",[t._v(t._s(t.item.name))])])},et=[],nt=(n("b680"),{props:{item:{type:Object,required:!0}},filters:{Count:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":t>1e4?(t/1e4).toFixed(1)+"万":t}}}),it=nt,rt=(n("7a87"),Object(m["a"])(it,tt,et,!1,null,"58405192",null)),at=rt.exports,st={name:"Home",components:{Title:K,Playlistcard:at,Musiclist:T},props:{currentSongid:{type:Number},playing:Boolean},data:function(){return{personalizeds:[],Musiclist:[]}},created:function(){var t=this;this.axios.get("http://apis.netstart.cn/music/personalized?limit=6").then((function(e){t.personalizeds=e.data.result})),this.axios.get("http://apis.netstart.cn/music/personalized/newsong").then((function(e){t.Musiclist=e.data.result}))}},ot=st,ct=(n("cccb"),Object(m["a"])(ot,J,W,!1,null,null,null)),ut=ct.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search",on:{scroll:t.scroll}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",placeholder:"搜索歌手"},domProps:{value:t.value},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.value&&(t.searching=!0)},focus:function(e){t.inputing=!0},blur:function(e){t.inputing=!1},input:function(e){e.target.composing||(t.value=e.target.value)}}}),t.value||t.searching?t._e():n("section",{staticClass:"hot"},[n("h5",[t._v("热门搜索")]),n("ul",t._l(t.hots,(function(e){return n("li",{key:e.first,on:{click:function(n){t.searching=!0,t.value=e.first}}},[t._v(" "+t._s(e.first)+" ")])})),0),n("ol",t._l(t.history,(function(e){return n("li",{key:e,on:{click:function(n){t.searching=!0,t.value=e}}},[t._v(" "+t._s(e))])})),0)]),t.value&&!t.searching?n("section",{staticClass:"suggests"},[n("h5",[t._v("搜索建议")]),n("ul",t._l(t.suggests,(function(e,i){return n("li",{key:i,on:{click:function(n){t.searching=!0,t.value=e.keyword}}},[t._v(" "+t._s(e.keyword)+" ")])})),0)]):t._e(),t.searching?n("section",{staticClass:"suggests"},[n("h5",[t._v("搜索结果")]),n("ul",t._l(t.searchiResults,(function(e,i){return n("li",{key:i},[t._v(" "+t._s(e.name)+" ")])})),0),t.hasMore?t._e():n("p",[t._v("已经没有了")])]):t._e()])},gt=[],pt=n("2909"),ht=(n("6062"),n("99af"),{data:function(){return{hots:[],value:"",suggests:[],searching:!1,searchiResults:[],inputing:!1,page:0,hasMore:!1,history:JSON.parse(window.localStorage.getItem("history"))||[]}},methods:{scroll:function(t){var e=this;this.hasMore?t.target.offsetHeight+t.target.scrollTop===t.target.scrollHeight&&(console.log("触底"),this.axios.get("http://apis.netstart.cn/music/search",{params:{keywords:this.value,limit:30,offset:30*this.page}}).then((function(t){var n;(n=e.searchiResults).push.apply(n,Object(pt["a"])(t.data.result.songs)),e.page++,e.hasMore=t.data.result.hasMore})),this.history=Object(pt["a"])(new Set([].concat(Object(pt["a"])(this.history),[this.value]))),window.localStorage.setItem("history",JSON.stringify(this.history))):console.log("没有了")}},created:function(){var t=this;this.axios.get("http://apis.netstart.cn/music/search/hot").then((function(e){console.log(e),t.hots=e.data.result.hots}))},watch:{value:function(t){var e=this;this.inputing&&(this.searching=!1),t&&this.axios.get("http://apis.netstart.cn/music/search/suggest",{params:{keywords:t,type:"mobile"}}).then((function(t){e.suggests=t.data.result.allMatch}))},searching:function(t){var e=this;t&&this.value?(this.axios.get("http://apis.netstart.cn/music/search",{params:{keywords:this.value,limit:30,offset:30*this.page}}).then((function(t){var n;(n=e.searchiResults).push.apply(n,Object(pt["a"])(t.data.result.songs)),e.page++,e.hasMore=t.data.result.hasMore})),this.history=Object(pt["a"])(new Set([].concat(Object(pt["a"])(this.history),[this.value]))),window.localStorage.setItem("history",JSON.stringify(this.history))):this.searchiResults=[]}}}),yt=ht,dt=(n("457b"),Object(m["a"])(yt,lt,gt,!1,null,"4dbee97d",null)),mt=dt.exports,Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.detail?n("div",[t._v(" PlayList "),n("ul",t._l(t.detail.tracks,(function(e,i){return n("Musiclist",{key:e.id,class:{lt3:i<3},attrs:{item:e,currentSongid:t.currentSongid,playing:t.playing},on:{"change-current-song":function(n){t.$emit("change-current-song",e),t.$emit("change-current-play-list",t.detail.tracks)}}},[t._v(" "+t._s(i+1))])})),1)]):t._e()},ft=[],vt={components:{Musiclist:T},data:function(){return{detail:null}},props:{currentSongid:{type:Number},playing:Boolean},methods:{getPlayListDetail:function(t){var e=this;this.axios.get("http://apis.netstart.cn/music/playlist/detail",{params:{id:t}}).then((function(t){e.detail=t.data.playlist}))}},created:function(){this.getPlayListDetail(this.$route.query.id)}},jt=vt,_t=Object(m["a"])(jt,Mt,ft,!1,null,"545bec58",null),Lt=_t.exports;i["a"].use(R["a"]);var wt=[{path:"/",name:"Home",component:ut,meta:{showNavBar:!0}},{path:"/hot",name:"Hot",component:function(){return n.e("hot").then(n.bind(null,"0b70"))},meta:{showNavBar:!0}},{path:"/search",name:"Search",component:mt,meta:{showNavBar:!0}},{path:"/playlist",name:"PlayList",component:Lt}],St=new R["a"]({routes:wt}),Ct=St;i["a"].config.productionTip=!1,new i["a"]({router:Ct,render:function(t){return t(H)}}).$mount("#app")},"5abd":function(t,e,n){"use strict";n("19a7")},"5ced":function(t,e,n){},"6dd1":function(t,e,n){},"7a87":function(t,e,n){"use strict";n("6dd1")},"7c55":function(t,e,n){"use strict";n("2395")},"93d8":function(t,e,n){"use strict";n("9e95")},"9e95":function(t,e,n){},a1dc:function(t,e,n){},cccb:function(t,e,n){"use strict";n("5ced")},d023:function(t,e,n){},ee49:function(t,e,n){},ef31:function(t,e,n){"use strict";n("d023")}});
//# sourceMappingURL=app.9eb4cbb8.js.map