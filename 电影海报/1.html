<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <section class="poster">
        <div class="bg"></div>
        <img src="https://www.17sucai.com/preview/1/2015-11-12/201509181601/img/effect-1/2.png" alt="" />
        <img src="https://www.17sucai.com/preview/1/2015-11-12/201509181601/img/effect-1/3.png" alt="" />
        <img src="https://www.17sucai.com/preview/1/2015-11-12/201509181601/img/effect-1/4.png" alt="" />
        <img src="https://www.17sucai.com/preview/1/2015-11-12/201509181601/img/effect-1/5.png" alt="" />
        <div class="shine"></div>
      </section>
    <script>
        var poster = document.querySelector(".poster");
        var bg = document.querySelector(".bg");
        var imgs = document.querySelectorAll("img");
        var shine = document.querySelector(".shine");

         var h = window.innerHeight;
         var w = window.innerWidth

      //定义鼠标事件
        document.body.onmousemove = function (event){
            var mouse = { x: event.clientX, y: event.clientY };
      //背景图旋转
        bg.style.transform =
          "rotateX(" +
          (-2 / (h / 2)) * (h / 2 - mouse.y) +
          "deg) rotateY(" +
          (2 / (w / 2)) * (w / 2 - mouse.x) +
          "deg)";
        shine.style.transform =
          "rotateX(" +
          (-2 / (h / 2)) * (h / 2 - mouse.y) +
          "deg) rotateY(" +
          (2 / (w / 2)) * (w / 2 - mouse.x) +
          "deg)";

           //遍历img
        imgs.forEach(function (item) {
          item.style.transform =
            "translate(" + (3 / (w / 2)) * (w / 2 - mouse.x) + "px, " + (3 / (h / 2)) * (h / 2 - mouse.y) + "px)";
        });
     //透明层
        var deg = (Math.atan((mouse.y - h / 2) / (mouse.x - w / 2)) * 180) / Math.PI;
        shine.style.backgroundImage = "linear-gradient(" + deg + "deg, transparent, rgba(255, 255, 255, 0.3))";

        }
      
       

    </script>
</body>
</html>